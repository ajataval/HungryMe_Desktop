<!DOCTYPE html>
<html>
<head>
<title>Register Restaurant</title>
<link rel="stylesheet" href="stylesheets/visuals2.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<script>
        $(document).ready(function() {
            $('.message a').click(function () {
                $('form').animate({height: "toggle", opacity: "toggle"}, "slow");
            });
            $('#reg').click(function () {
                alert("entered");
                var own = $('#oname').val();
                var rest = $('#rname').val();
                var add = $('#stadr').val();
                var city = $('#city').val();
                var state = $('#state').val();
                var cuisine = $('#cuisine').val();
                var pno = $('#pno').val();
                var email = $('#eid').val();
                var mi1 = $('#mi1').val();
                var d1 = $('#d1').val();
                var mi2 = $('#mi2').val();
                var d2 = $('#d2').val();
                var menuarray =[
                    {"name": mi1,
                        "description": d1,},
                    {"name": mi2,
                        "description" :d2}
                ];
                var formdata = {
                    "hotelname": rest,
                    "username": own,
                    "menu": menuarray,
                    "address": add,
                    "cuisine": cuisine,
                    /*
                     "city": city,
                     "state": state,
                     "phone": pno,
                     "email":eid,
                     */
                };
                var input = JSON.stringify(formdata);
                $.ajax({
                    type: "POST",
                    url: "/hotel/users",
                    data: input,
                    contentType: "application/json"
                }).done(function (obj) {
                    if(obj.result == true)
                        alert("Success");
                    else
                        alert("Failure");
                }).fail(function (obj) {
                    alert("Failed");
                });
            });
        });

	</script>
<!--
    <script>

        var pageContents = [
            ['#oname', '#rname', '#stadr','#city', '#state', '#cuisine', '#pno','#eid'],
            ['#mi1', '#d1','#mi2', '#d2']
        ];

        function classAssigner(element, classNameParam) {
            //finds the element and assigns it the proper class, or an empty string
            var curElement = document.querySelector(element);
            curElement.className = classNameParam;
        }

        //this function gets called dueto the onclick attribute in the html on the button
        function pageChanger(curPage, nextPage, pageContentArray) {
            //calls classAssigner for each item in the curPage index of the pageContent array
            pageContentArray[curPage].forEach(function(element) {
                classAssigner(element, 'hidden')
            });

            //calls classAssigner for each item in the nextPage index of the pageContent array
            pageContentArray[nextPage].forEach(function(element) {
                classAssigner(element, '')
            });
        }

    </script>
    -->
</head>
<body>
<div class="banner">
	<img class ="picstyle" src="images/banner4.png" >
</div>
</br>
<p class = "genwebsitetext">Restaurant Registration Form</p>
</br>
<div class="dashboard">
<!-- Restaurant registration Code -->

<!-- <form class="additemform"> -->
    <div class="additemform">
			<table id = "itemtable" >
			<tr>
				<td>Username</td>
				<td><input type = "text" id = "oname"/></td>
			</tr>
			<tr>
				<td>Restaurant Name</td>
				<td><input type = "text" id = "rname"/></td>
			</tr>
			<tr>
				<td>Street Adress</td>
				<td><input type = "text" id = "stadr"/></td>
			</tr>
			<tr>
				<td>City</td>
				<td><input type = "text" id = "city"/></td>
			</tr>
			<tr>
				<td>State</td>
				<td><input type = "text" id = "state"/></td>
			</tr>
			<tr>
				<td>Cuisine Type</td>
				<td><input type = "text" id = "cuisine"/></td>
			</tr>
			<tr>
				<td>Phone Number</td>
				<td><input type = "text" id = "pno"/></td>
			</tr>
			<tr>
				<td>email adress</td>
				<td><input type = "text" id = "eid"/></td>
			</tr>
                <!--<tr>
                    <td></td>
                    <td><button onclick="pageChanger(0, 1, pageContents)" id="next">next page</button></td>
			</tr>-->
                <tr>
				<td>Menu Item :</td>
				<td><input type = "text" id = "mi1"></td>
			</tr>
				<tr>
					<td>Description :</td>
					<td><input type = "text" id = "d1"></td>
				</tr>
				<tr>
					<td>Menu Item :</td>
					<td><input type = "text" id = "mi2"></td>
				</tr>
				<tr>
					<td>Description :</td>
					<td><input type = "text" id = "d2"></td>
				</tr>
				<tr>
					<td></td>
					<td><button type="submit" class="additembutton" id="reg">Register Restaurant</button></td>
				</tr>

			</table>
    </div>

<!-- </form> -->

<!-- Restaurant registration Code Ends -->
</div>
</body>
</html>